<!-- If update element -->
<%if(result!=null){%>
    <form action="/<%=table%>/edit/<%=id%>" method="post">
        <%for(i=0;i<schema.length;i++){%>
            <!-- Check is primary -->

            
            
            
            <!-- Check for types -->
            <%if(schema[i][1]=='int'||schema[i][1]=='decimal'){%>
                <%if(result[i][2]){%>
                    <div><%=schema[i][0]%>:</div><input type="number" name="<%=schema[i][0]%>" disabled value="<%=result[i][1]%>">
                <%}else{%>
                    <div><%=schema[i][0]%>:</div><input type="number" name="<%=schema[i][0]%>" value="<%=result[i][1]%>"><input type="checkbox" onchange="toggleCheckbox(this)">Null
                <%}%>
            <%}%>
            <%if(schema[i][1]=='varchar'){%>
                <%if(result[i][2]){%>
                    <div><%=schema[i][0]%>:</div><input type="text" name="<%=schema[i][0]%>" disabled value="<%=result[i][1]%>">
                <%}else{%>
                    <div><%=schema[i][0]%>:</div><input type="text" name="<%=schema[i][0]%>" value="<%=result[i][1]%>"><input type="checkbox" onchange="toggleCheckbox(this)">Null
                <%}%>
                
            <%}%>
            <%if(schema[i][1]=='text'){%>                
                <%if(result[i][2]){%>
                    <div><%=schema[i][0]%>:</div><textarea disabled name="<%=schema[i][0]%>"><%=result[i][1]%></textarea>
                <%}else{%>
                    <div><%=schema[i][0]%>:</div><textarea name="<%=schema[i][0]%>"><%=result[i][1]%></textarea><input type="checkbox" onchange="toggleCheckbox(this)">Null
                <%}%>
            <%}%>
            <%if(schema[i][1]=='date'){%>
                <%if(result[i][2]){%>
                    <div><%=schema[i][0]%>:</div><input type="date" disabled name="<%=schema[i][0]%>" value="<%=result[i][1]%>">
                <%}else{%>
                    <div><%=schema[i][0]%>:</div><input type="date" name="<%=schema[i][0]%>" value="<%=result[i][1]%>"><input type="checkbox" onchange="toggleCheckbox(this)">Null
                <%}%>
                
            <%}%>
        <%}%>
        <button type="submit">Submit</button>
        
    </form>
<%}else{%>
    <!-- If new element -->
    <form action="/<%=table%>/new/" method="post">
        <%for(i=0;i<schema.length;i++){%>
            <%if(schema[i][2]=='PRI'){%>                
            <%continue;}%>
            <%if(schema[i][1]=='int'||schema[i][1]=='decimal'){%>
                <div><%=schema[i][0]%>:</div><input type="number" name="<%=schema[i][0]%>"><input type="checkbox" onchange="toggleCheckbox(this)">Null
            <%}%>
            <%if(schema[i][1]=='varchar'){%>
                <div><%=schema[i][0]%>:</div><input type="text" name="<%=schema[i][0]%>"><input type="checkbox" onchange="toggleCheckbox(this)">Null
            <%}%>
            <%if(schema[i][1]=='text'){%>
                <div><%=schema[i][0]%>:</div><textarea name="<%=schema[i][0]%>"></textarea><input type="checkbox" onchange="toggleCheckbox(this)">Null
            <%}%>
            <%if(schema[i][1]=='date'){%>
                <div><%=schema[i][0]%>:</div><input type="date" name="<%=schema[i][0]%>"><input type="checkbox" onchange="toggleCheckbox(this)">Null
            <%}%>            
        <%}%>
        <button type="submit">Submit</button>
    </form>
<%}%>

<!-- pagination -->



<script>
    function toggleCheckbox(el)
    {        
        var input = el.previousSibling;                        
        input.disabled=el.checked;
    }
</script>